{"map":"{\"version\":3,\"sources\":[\"background.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"21\",\"currentSetting\",\"defaultList\",\"useTooltip\",\"useTTS\",\"translateSource\",\"translateTarget\",\"navigator\",\"language\",\"translatorVendor\",\"keyDownTooltip\",\"keyDownTTS\",\"detectType\",\"translateReverseTarget\",\"tooltipFontSize\",\"tooltipWidth\",\"useOCR\",\"ocrDetectionLang\",\"historyList\",\"historyRecordActions\",\"bingLangCode\",\"auto\",\"af\",\"am\",\"ar\",\"az\",\"bg\",\"bs\",\"ca\",\"cs\",\"cy\",\"da\",\"de\",\"el\",\"en\",\"es\",\"et\",\"fa\",\"fi\",\"fr\",\"ga\",\"gu\",\"hi\",\"hmn\",\"hr\",\"ht\",\"hu\",\"hy\",\"id\",\"is\",\"it\",\"iw\",\"ja\",\"kk\",\"km\",\"kn\",\"ko\",\"ku\",\"lo\",\"lt\",\"lv\",\"mg\",\"mi\",\"ml\",\"mr\",\"ms\",\"mt\",\"my\",\"ne\",\"nl\",\"no\",\"pa\",\"pl\",\"ps\",\"pt\",\"ro\",\"ru\",\"sk\",\"sl\",\"sm\",\"sq\",\"sr\",\"sv\",\"sw\",\"ta\",\"te\",\"th\",\"tl\",\"tr\",\"uk\",\"ur\",\"vi\",\"zh-cn\",\"zh-tw\",\"bingLangCodeOpposite\",\"json\",\"ret\",\"swap\",\"saveSetting\",\"inputSettings\",\"chrome\",\"storage\",\"local\",\"set\",\"bingAccessToken\",\"runtime\",\"onMessage\",\"addListener\",\"request\",\"sender\",\"sendResponse\",\"Promise\",\"resolve\",\"reject\",\"keys\",\"length\",\"options\",\"type\",\"async\",\"translatorUrl\",\"params\",\"detectedLang\",\"translatedText\",\"q\",\"word\",\"Date\",\"now\",\"data\",\"fetch\",\"then\",\"response\",\"text\",\"IG\",\"match\",\"IID\",\"_key\",\"_token\",\"interval\",\"_isVertical\",\"_isAuthv2\",\"JSON\",\"parse\",\"token\",\"tokenTs\",\"tokenExpiryInterval\",\"isAuthv2\",\"undefined\",\"count\",\"e\",\"console\",\"log\",\"getBingAccessToken\",\"fromLang\",\"to\",\"res\",\"URLSearchParams\",\"method\",\"sentences\",\"forEach\",\"trans\",\"src\",\"sourceLang\",\"targetLang\",\"error\",\"doTranslate\",\"tts\",\"getVoices\",\"voices\",\"filtered\",\"filter\",\"remote\",\"lang\",\"voiceName\",\"item\",\"sort\",\"x\",\"y\",\"toLowerCase\",\"includes\",\"speak\",\"stop\",\"unshift\",\"sourceText\",\"targetText\",\"pop\",\"webRequest\",\"onHeadersReceived\",\"url\",\"responseHeaders\",\"header1\",\"h\",\"shift\",\"header2\",\"tabs\",\"update\",\"getURL\",\"urls\",\"types\",\"onBeforeRequest\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=21)}({21:function(e,t,r){\"use strict\";var n={},a={useTooltip:\"true\",useTTS:\"false\",translateSource:\"auto\",translateTarget:navigator.language,translatorVendor:\"google\",keyDownTooltip:\"null\",keyDownTTS:\"null\",detectType:\"sentence\",translateReverseTarget:\"null\",tooltipFontSize:\"14\",tooltipWidth:\"200\",useOCR:\"false\",ocrDetectionLang:\"jpn_vert\",historyList:[],historyRecordActions:[]},o={auto:\"auto-detect\",af:\"af\",am:\"am\",ar:\"ar\",az:\"az\",bg:\"bg\",bs:\"bs\",ca:\"ca\",cs:\"cs\",cy:\"cy\",da:\"da\",de:\"de\",el:\"el\",en:\"en\",es:\"es\",et:\"et\",fa:\"fa\",fi:\"fi\",fr:\"fr\",ga:\"ga\",gu:\"gu\",hi:\"hi\",hmn:\"mww\",hr:\"hr\",ht:\"ht\",hu:\"hu\",hy:\"hy\",id:\"id\",is:\"is\",it:\"it\",iw:\"he\",ja:\"ja\",kk:\"kk\",km:\"km\",kn:\"kn\",ko:\"ko\",ku:\"ku\",lo:\"lo\",lt:\"lt\",lv:\"lv\",mg:\"mg\",mi:\"mi\",ml:\"ml\",mr:\"mr\",ms:\"ms\",mt:\"mt\",my:\"my\",ne:\"ne\",nl:\"nl\",no:\"nb\",pa:\"pa\",pl:\"pl\",ps:\"ps\",pt:\"pt\",ro:\"ro\",ru:\"ru\",sk:\"sk\",sl:\"sl\",sm:\"sm\",sq:\"sq\",sr:\"sr-Cyrl\",sv:\"sv\",sw:\"sw\",ta:\"ta\",te:\"te\",th:\"th\",tl:\"fil\",tr:\"tr\",uk:\"uk\",ur:\"ur\",vi:\"vi\",\"zh-cn\":\"zh-Hans\",\"zh-tw\":\"zh-Hant\"};var s=function(e){var t={};for(var r in e)t[e[r]]=r;return t}(o);function l(e){chrome.storage.local.set(e,(function(){n=e}))}let i;chrome.runtime.onMessage.addListener((function(e,t,r){return(async()=>{n=await new Promise((e,t)=>{Object.keys(n).length!=Object.keys(a).length?chrome.storage.local.get(Object.keys(a),(function(t){for(var r in a)t[r]?n[r]=t[r]:n[r]=a[r];e(n)})):e(n)}),\"translate\"===e.type?async function(e,t){var r,a,l=\"\",c=\"\";if(\"google\"==n.translatorVendor)r=\"https://translate.googleapis.com/translate_a/t?client=dict-chrome-ex&\",a={q:e.word,sl:n.translateSource,tl:e.translateTarget};else{(!i||Date.now()-i.tokenTs>i.tokenExpiryInterval)&&(i=await async function(){try{const e=await fetch(\"https://www.bing.com/translator\").then(e=>e.text()),t=e.match(/IG:\"([^\"]+)\"/)[1],r=e.match(/data-iid=\"([^\"]+)\"/)[1],[n,a,o,s,l]=JSON.parse(e.match(/params_RichTranslateHelper\\s?=\\s?([^\\]]+\\])/)[1]);return{IG:t,IID:r,key:n,token:a,tokenTs:n,tokenExpiryInterval:o,isAuthv2:void 0,count:0}}catch(e){console.log(e)}}()),r=\"https://www.bing.com/ttranslatev3?isVertical=1&&\";const{token:t,key:s,IG:l,IID:c}=i;a={text:e.word,fromLang:o[n.translateSource],to:o[e.translateTarget],token:t,key:s,IG:l,IID:c&&c.length?c+\".\"+i.count++:\"\"}}try{const o=await fetch(r+new URLSearchParams(a),{method:\"POST\"}).then(e=>e.json());\"google\"==n.translatorVendor?(o.sentences&&o.sentences.forEach((function(e){e.trans&&(c+=e.trans)})),l=o.src):(l=s[o[0].detectedLanguage.language],c=o[0].translations[0].text),t({translatedText:c,sourceLang:l,targetLang:e.translateTarget})}catch(r){console.log(r),t({translatedText:\"\",sourceLang:\"en\",targetLang:e.translateTarget})}}(e,r):\"tts\"===e.type?(chrome.tts.getVoices(t=>{let r=t.filter(e=>null!=e.remote&&null!=e.lang&&null!=e.voiceName);for(var n of(r.sort((e,t)=>t.remote-e.remote),r))if(n.lang.toLowerCase().includes(e.lang.toLowerCase())){chrome.tts.speak(e.word,{lang:e.lang,voiceName:n.voiceName});break}}),r({})):\"stopTTS\"===e.type?(chrome.tts.stop(),r({})):\"saveSetting\"===e.type?l(e.options):\"loadSetting\"===e.type?r(n):\"recordHistory\"===e.type&&(n.historyList.unshift({sourceText:e.sourceText,targetText:e.targetText}),n.historyList.length>100&&n.historyList.pop(),l(n))})(),!0})),chrome.webRequest.onHeadersReceived.addListener(({url:e,method:t,responseHeaders:r})=>{const n=r.filter(e=>\"content-disposition\"===e.name.toLowerCase()).shift();if(n&&n.value.toLowerCase().includes(\"attachment\"))return;const a=r.filter(e=>\"content-type\"===e.name.toLowerCase()).shift();a&&a.value.toLowerCase().includes(\"application/pdf\")&&chrome.tabs.update({url:chrome.runtime.getURL(\"/pdfjs/web/viewer.html\")+\"?file=\"+e})},{urls:[\"<all_urls>\"],types:[\"main_frame\",\"sub_frame\"]},[\"responseHeaders\"]),chrome.webRequest.onBeforeRequest.addListener((function({url:e,method:t}){chrome.tabs.update({url:chrome.runtime.getURL(\"/pdfjs/web/viewer.html\")+\"?file=\"+e})}),{urls:[\"file:///*/*.pdf\",\"file:///*/*.PDF\"],types:[\"main_frame\"]},[])}});","extractedComments":[]}